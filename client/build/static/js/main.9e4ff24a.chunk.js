(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/uploadIcon.3d5ac450.png"},30:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAGaCAMAAABOswtwAAACylBMVEUAAAAeHh4cHBweHh4dHR0eHh4dHR0eHh4dHR0dHR0dHR0eHh4dHR0dHR0dHR0dHR0eHh4cHBwdHR0kJCQgICAeHh4cHBwdHR0dHR0cHBwiIiIbGxsdHR0dHR0dHR0dHR0dHR0bGxsdHR0dHR0dHR0dHR0dHR0gICAdHR0cHBweHh4gICAcHBwcHBwfHx8aGhodHR0rKysAAAAeHh4dHR0cHBwfHx8dHR0cHBwAAAAdHR0dHR0aGhoeHh4dHR0zMzMbGxsdHR0dHR0eHh4dHR0dHR0aGhocHBwdHR0bGxseHh4dHR0dHR0dHR0dHR0cHBwdHR0dHR0XFxcdHR0dHR0dHR0eHh4eHh4cHBwcHBweHh4dHR0aGhodHR0fHx8dHR0dHR0cHBwaGhodHR0dHR0cHBwdHR0dHR0dHR0dHR0eHh4dHR0cHBwcHBwdHR0dHR0dHR0cHBwdHR0fHx8cHBwdHR0XFxceHh4cHBwcHBwcHBwdHR0dHR0eHh4eHh4eHh4gICAcHBwcHBwcHBwdHR0bGxsdHR0bGxsdHR0UFBQdHR0cHBweHh4dHR0dHR0dHR0AAAAVFRUcHBwdHR0dHR0cHBwcHBwdHR0cHBwdHR0eHh4eHh4dHR0cHBwdHR0dHR0dHR0dHR0cHBwdHR0cHBwfHx8dHR0eHh4AAAAcHBwYGBgdHR0dHR0dHR0hISEdHR0fHx8eHh4dHR0cHBwdHR0eHh4bGxscHBweHh4fHx8dHR0cHBwdHR0dHR0dHR0dHR0cHBwdHR0dHR0cHBwdHR0bGxsdHR0dHR0dHR0dHR0dHR0dHR0cHBweHh4eHh4dHR0eHh4dHR0eHh4eHh4dHR0dHR0dHR0eHh4kJCQhISEdHR0dHR0dHR0eHh4dHR0dHR0cHBweHh4dHR0eHh4dHR0dHR0dHR0cHBwgICAeHh4dHR0eHh4fHx8dHR0jW4Q3AAAA7XRSTlMAETdfhqzEz93r9vLnzMCeeFIsBxhVmd78kQ8vjdv7wWkTGnTS+bEII+mAEC6iGR30BgRv2kg606sB+uoUtf4FOOPCRPPfJ1rtOUVrTk9QQPfwC9afVyJNswlMfAr4Sz3sUR5goErQaoKPm6i0vbu4qpCEQhvLFr4/iCXDv17YVCjXLWXm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"},33:function(e,t,a){e.exports=a(66)},38:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},39:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),i=a.n(r),c=(a(38),a(39),a(1)),l=a.n(c),o=a(4),d=a(2),u=function(e,t,a){return function(n){n({type:"SET_WAIT",payload:{fileName:e,done:t,total:a}})}},f=function(){return function(e){e({type:"UNSET_WAIT",payload:{}})}},E=function(e){return function(t){t({type:"UPDATE_PROGRESS",payload:e})}},h=function(){return function(e){return e({type:"UNSET_PROGRESS",payload:{}})}},A=a(68),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return function(){var n=Object(o.a)(l.a.mark((function n(s){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Object(A.a)(),e&&(s({type:"SET_ALERT",payload:{message:e,level:t,id:r}}),setTimeout((function(){return s({type:"REMOVE_ALERT",payload:r})}),a));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},p=a(6),v=a.n(p),H=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(n){var s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e||(e=1),t||(t=7),a.next=5,v.a.get("/fs/getPaginated?pageNo=".concat(e,"&pageSize=").concat(t));case 5:(s=a.sent).data&&n({type:"GET_FILES_PAGINATED",payload:{pageNo:e,pageSize:t,files:s.data}}),a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,v.a.get("/fs/deleteFileById?id=".concat(e));case 4:200===t.sent.status&&a(H()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),a(g("err"));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},m=a(26),w=a(27),F=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/fs/localIp");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(l.a.mark((function e(t,a,n,s,r){var i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:i=e.sent,console.log(a),console.log(n),c=new WebSocket("ws://"+i+"/fs/PartUpload"),new T(t,c,a,n,s,r).transition();case 7:case"end":return e.stop()}}),e)})));return function(t,a,n,s,r){return e.apply(this,arguments)}}(),T=function(){function e(t,a,n,s,r,i){Object(m.a)(this,e),this.states={READY:"READY",OPEN_WEBSOCKET:"OPEN_WEBSOCKET",READ_META:"READ_META",WRITE_META:"WRITE_META",READ_FILE_META:"READ_FILE_META",WRITE_FILE_META:"WRITE_FILE_META",READ_WRITE_CONTINUE_CHECK:"READ_WRITE_CONTINUE_CHECK",READ_NEXT_FILE:"READ_NEXT_FILE",ALL_FILES_WRITTEN_CHECK:"ALL_FILES_WRITTEN_CHECK",READ_BYTES:"READ_BYTES",WRITE_BYTES:"WRITE_BYTES",FILE_WRITE_COMPLETE:"FILE_WRITE_COMPLETE",END:"END"},this.events={NO_EVENT:"NO_EVENT",READ_MORE:"READ_MORE"},this.parentID=i,this.before_func=n,this.after_func=s,this.progress_func=r,this.websocket=a,this.files=t,this.currentFileIndex=0,this.currentFile=this.files[0],this.filemeta={},this.websocket.onmessage=D(this,this.transition),this.event=this.events.NO_EVENT,this.funcMap={},this.current_state=this.states.READY,this.fileReader=new FileReader,this.offset=0,this.PACKET_SIZE=20971520,this.setTransitionFunctions()}return Object(w.a)(e,[{key:"print",value:function(){console.log("state:".concat(this.current_state,";event").concat(this.event))}},{key:"transition",value:function(e){this.print();var t=this.getNextTransitionFunc();t||console.log("transitionKey is",this.transitionKey()),t.call(this,e)}},{key:"transitionKey",value:function(){return console.log("".concat(this.current_state,":").concat(this.event)),"".concat(this.current_state,":").concat(this.event)}},{key:"getNextTransitionFunc",value:function(){return this.funcMap[this.transitionKey()]}},{key:"setTransitionFunctions",value:function(){this.funcMap[this.createTransitionKey(this.states.READY,this.events.NO_EVENT)]=this.readMeta,this.funcMap[this.createTransitionKey(this.states.OPEN_WEBSOCKET,this.events.NO_EVENT)]=this.openWebSocket,this.funcMap[this.createTransitionKey(this.states.WRITE_META,this.events.NO_EVENT)]=this.writeMeta,this.funcMap[this.createTransitionKey(this.states.READ_FILE_META,this.events.NO_EVENT)]=this.readFileMeta,this.funcMap[this.createTransitionKey(this.states.WRITE_FILE_META,this.events.NO_EVENT)]=this.writeFileMeta,this.funcMap[this.createTransitionKey(this.states.READ_BYTES,this.events.NO_EVENT)]=this.readBytes,this.funcMap[this.createTransitionKey(this.states.WRITE_BYTES,this.events.NO_EVENT)]=this.writeBytes,this.funcMap[this.createTransitionKey(this.states.READ_WRITE_CONTINUE_CHECK,this.events.NO_EVENT)]=this.continueCheck,this.funcMap[this.createTransitionKey(this.states.ALL_FILES_WRITTEN_CHECK,this.events.NO_EVENT)]=this.allFilesWrittenCheck,this.funcMap[this.createTransitionKey(this.states.END,this.events.NO_EVENT)]=this.end,this.funcMap[this.createTransitionKey(this.states.WRITE_BYTES,this.events.NO_EVENT)]=this.writeBytes}},{key:"createTransitionKey",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"openWebSocket",value:function(){this.current_state=this.states.WRITE_META,this.event=this.events.NO_EVENT,this.websocket.onopen=D(this,this.transition)}},{key:"readFileMeta",value:function(){this.after_func(),this.offset=0,this.before_func(this.currentFile.name,this.currentFileIndex),this.progress_func(0),this.current_state=this.states.WRITE_FILE_META,this.event=this.events.NO_EVENT,this.filemeta={name:this.currentFile.name,size:this.currentFile.size},this.transition()}},{key:"readMeta",value:function(){this.current_state=this.states.OPEN_WEBSOCKET,this.allFilesData={parentID:this.parentID,noOfFiles:this.files.length},this.transition()}},{key:"writeMeta",value:function(){this.current_state=this.states.READ_FILE_META,this.websocket.send(JSON.stringify(this.allFilesData))}},{key:"writeFileMeta",value:function(){this.current_state=this.states.READ_BYTES,this.event=this.events.NO_EVENT,this.websocket.send(JSON.stringify(this.filemeta))}},{key:"continueCheck",value:function(){this.offset>=this.filemeta.size?(this.current_state=this.states.ALL_FILES_WRITTEN_CHECK,this.event=this.events.NO_EVENT):(this.current_state=this.states.READ_BYTES,this.event=this.events.NO_EVENT),this.transition()}},{key:"readBytes",value:function(){this.current_state=this.states.WRITE_BYTES,this.event=this.events.NO_EVENT;var e=100*this.offset/this.filemeta.size;this.progress_func(e),this.fileReader.onload=D(this,this.transition);var t=this.currentFile.slice(this.offset,this.PACKET_SIZE+this.offset);this.fileReader.readAsArrayBuffer(t)}},{key:"allFilesWrittenCheck",value:function(){this.currentFileIndex>=this.files.length-1?(this.current_state=this.states.END,this.event=this.events.NO_EVENT):(this.currentFileIndex++,this.currentFile=this.files[this.currentFileIndex],console.log("ATTENTION, WILL NOW SEND ",this.currentFileIndex),this.current_state=this.states.READ_FILE_META,this.event=this.events.NO_EVENT),this.transition()}},{key:"writeBytes",value:function(e){this.current_state=this.states.READ_WRITE_CONTINUE_CHECK,this.event=this.events.NO_EVENT;var t=this.fileReader.result;this.websocket.onmessage=D(this,this.transition),this.offset+=this.PACKET_SIZE,this.websocket.send(t)}},{key:"end",value:function(){this.current_state=this.states.END,this.event=this.events.NO_EVENT,this.websocket.close(),this.after_func()}}]),e}();function D(e,t,a){console.log("aruments of closureTransition",arguments);var n=e;return function(){t.call(n,a)}}var B=O,C=a(28),I=a.n(C);var N=function(e){var t=e.size,a=100,n=100;return t&&"small"==t&&(a=50,n=50),s.a.createElement("div",null,s.a.createElement("img",{src:I.a,alt:"upload",style:{width:a,height:n}}))},b={setWait:u,unsetWait:f,updateProgress:E,unsetProgress:h,getPaginatedFiles:H},y=Object(d.b)((function(e){return{}}),b)((function(e){var t=e.setWait,a=e.unsetWait,n=e.updateProgress,r=e.unsetProgress,i=e.getPaginatedFiles,c=function(){var e=Object(o.a)(l.a.mark((function e(s){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.target.files){e.next=3;break}return e.abrupt("return");case 3:c=Array.from(c),B(c,(function(e,a){t(e,a,c.length)}),(function(){a(),r(),i()}),(function(e){n(e)}),-1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{class:"add"},s.a.createElement("label",{class:"label-upload"},s.a.createElement(N,null),s.a.createElement("input",{type:"file",class:" hide",onChange:c,multiple:!0})))})),k=a(3),_=a(9),S=a(29),P=a.n(S),L=function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("got folder at selectFolderAction",e),a({type:"SELECT_FOLDER"}),t.next=4,v.a.get("/fs/getFilesByParentId?parentID=".concat(e.Id));case 4:200===(n=t.sent).status?a({type:"FOLDER_LOADED",payload:{folderData:e,childrenFiles:n.data}}):a({type:"FOLDER_LOADED",payload:{folderData:e,childrenFiles:[]}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(n){var s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t||(t=-1),a.next=3,v.a.get("/fs/createfolder?folderName=".concat(e,"&parentID=").concat(t));case 3:200==(s=a.sent).status?n({type:"FOLDER_LOADED",payload:{folderData:s.data,childrenFiles:[]}}):alert(s.data);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},j={pageNo:0,pageSize:0,files:[]},K=Object(d.b)(null,{deleteFileById:R,selectFolder:L})((function(e){var t=e.file,a=e.deleteFileById,n=e.selectFolder,r=null===t?{}:t,i=r.FileName,c=r.CreatedAt,l=r.Id,o=r.IsDir;r.ParentID;return s.a.createElement("tr",{class:"filerow"},s.a.createElement("td",{class:"cell filename",onClick:function(){o&&(console.log("opening folder ",t),n(t))}},i),s.a.createElement("td",{class:"cell uploadeddate"},s.a.createElement(P.a,{format:"DD/MM/YYYY"},c)),s.a.createElement("td",{class:"cell actions"},s.a.createElement("div",{className:"downloaddiv"},s.a.createElement("a",{href:"/fs/downloadFileById?id=".concat(l),target:"_blank",class:" fa fa-download",download:"".concat(i)})),s.a.createElement("div",{onClick:function(e){window.confirm("Do you want to delete file "+i+"?")&&a(l)},class:"deletediv fa fa-trash"})))})),Q=Object(d.b)((function(e){return{fileData:e.files}}),{getPaginatedFiles:H})((function(e){var t=e.fileData,a=e.getPaginatedFiles,r=Object(n.useState)({pageSize:7,pageNo:1,files:[]}),i=Object(_.a)(r,2),c=i[0],l=i[1],o=c.files;if(Object(n.useEffect)((function(){a(0,7)}),[]),t&&t.files&&t.files.length>0){var d=!1;if(c.files.length===t.files.length){d=!0;for(var u=0;u<c.files.length;u++)if(c.files[u].Id!==t.files[u].Id){d=!1;break}}d||l(Object(k.a)(Object(k.a)({},c),{},{files:t.files}))}return s.a.createElement("div",{class:"filelist"},c.files.length>0?s.a.createElement("table",{class:"filelisttable"},s.a.createElement("thead",{class:"filelistheader"},s.a.createElement("td",{class:"filelistheader cell"},"filename"),s.a.createElement("td",{class:"filelistheader cell"},"uploaded on"),s.a.createElement("td",{class:"filelistheader cell"},"actions")),s.a.createElement("tbody",null,o.map((function(e){return s.a.createElement(K,{key:e.Id,file:Object(k.a)({},e)})})))):"NO FILES FOUND")})),x={getPaginatedFiles:H},W=Object(d.b)((function(e){return{fileData:e.files}}),x)((function(e){var t=e.fileData,a=e.getPaginatedFiles,r=Object(n.useState)({pageNo:1,pageSize:7}),i=Object(_.a)(r,2),c=i[0],l=i[1],o=c.pageNo,d=c.pageSize;return 0!==t.pageNo&&t.pageNo!==o&&l({pageNo:t.pageNo,pageSize:t.pageSize}),s.a.createElement("div",{class:"paginationicons"},o>1?s.a.createElement("div",{class:"prev"},s.a.createElement("i",{class:"fa fa-arrow-left fa-2x",onClick:function(e){e.preventDefault(),a(o-1,d)}})):s.a.createElement("div",{class:"prev"},s.a.createElement("i",{class:"fa fa-arrow-left fa-2x disabled"})),s.a.createElement("div",{class:"pageno"},o),s.a.createElement("div",{class:"next"},s.a.createElement("i",{class:"fa fa-arrow-right fa-2x",onClick:function(e){e.preventDefault(),a(o+1,d)}})))})),G=a(30),z=a.n(G);var V=function(e){var t=e.size,a=100,n=100;return t&&"small"==t&&(a=40,n=40),s.a.createElement("div",null,s.a.createElement("img",{src:z.a,alt:"upload",style:{width:a,height:n}}))},U=function(e){var t=e.fileData,a=e.deleteFileById,n=e.refresh,r=e.selectFolder;console.log("fileData is ",t);return s.a.createElement("div",{className:"folderfile"},s.a.createElement("div",{className:"filename",onClick:function(){t.IsDir&&(console.log("opening folder"),r(t))}},t.FileName),s.a.createElement("div",{className:"filetype"},t.IsDir?"folder":"file"),!t.IsDir&&s.a.createElement("div",{className:"filedownload"},s.a.createElement("a",{href:"/fs/downloadFileById?id=".concat(t.Id),target:"_blank",className:" fa fa-download",download:"".concat(t.FileName)},"Download")),!t.isDir&&s.a.createElement("div",{onClick:function(e){window.confirm("Do you want to delete file "+t.FileName+"?")&&(a(t.Id),n())},className:"filedelete fa fa-trash"},"delete"))},X={closeFolder:function(){return function(e){e({type:"CLOSE_FOLDER"})}},selectFolder:L,setWait:u,unsetWait:f,updateProgress:E,unsetProgress:h,deleteFileById:R,createFolder:M,setAlert:g,refreshFolder:function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("/fs/getFilesByParentId?parentID=".concat(e.Id));case 2:200===(n=t.sent).status?a({type:"FOLDER_REFRESHED",payload:{folderData:e,childrenFiles:n.data}}):a({type:"FOLDER_REFRESHED",payload:{folderData:e,childrenFiles:[]}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},Y=Object(d.b)((function(e){return{folderDataState:e.folderData}}),X)((function(e){var t=e.folderDataState,a=e.closeFolder,n=e.setWait,r=e.unsetWait,i=e.updateProgress,c=e.unsetProgress,l=e.deleteFileById,o=e.selectFolder,d=e.createFolder,u=e.setAlert,f=e.refreshFolder,E=null==t?{}:t,h=(E.showFolderContainer,E.folderData),A=E.childrenFiles,g=E.loading,p=E.breadCrumb;console.log("folderDataState is ",t);var v=function(){f(h)};return s.a.createElement("div",{className:"folder-container"}," ",s.a.createElement("div",{className:"folder-subcontainer"},s.a.createElement("div",{className:"foldername"},s.a.createElement("div",{className:"folderactions"},s.a.createElement("label",{className:"addtofolder"},s.a.createElement(N,{size:"small"}),s.a.createElement("input",{type:"file",class:" hide",onChange:function(e){console.log("clickeed add files");var t=e.target.files;t&&(t=Array.from(t),B(t,(function(e,a){n(e,a,t.length)}),(function(){r(),c()}),(function(e){i(e)}),h.Id))},multiple:!0})),s.a.createElement("div",{className:"innerCreateFolder",onClick:function(){var e=window.prompt("please enter folder name");""!=e&&null!==e?d(e,h.Id):u("please enter a valid foldername!",2e3)}},s.a.createElement(V,{size:"small"})),s.a.createElement("div",{className:"refreshFolder",onClick:v},s.a.createElement("p",null,"refresh"))),s.a.createElement("div",{className:"foldernamevalue"},s.a.createElement("p",null,p)),s.a.createElement("div",{className:"closefolder",onClick:function(){a()}},s.a.createElement("p",null,"x"))),s.a.createElement("div",{className:"folderfiles"},h&&g?s.a.createElement("p",null,"Loading"):A.map((function(e){return s.a.createElement(U,{fileData:e,deleteFileById:l,refresh:v,key:e.Id,selectFolder:o})})))))})),Z=Object(d.b)(null,{createFolder:M,setAlert:g})((function(e){var t=e.createFolder,a=e.setAlert;return s.a.createElement("div",{className:"createfolder",onClick:function(){console.log("createfolder pressed");var e=window.prompt("please enter folder name");""!=e&&null!==e?t(e):a("please enter a valid foldername!",2e3)}},s.a.createElement("p",null,"New folder"))})),J=Object(d.b)((function(e){return{showFolderContainer:e.folderData.showFolderContainer}}),{getPaginatedFiles:H})((function(e){e.getPaginatedFiles;var t=e.showFolderContainer;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"subContiner"},s.a.createElement(y,null),s.a.createElement(Z,null),s.a.createElement(Q,null),s.a.createElement(W,null)),t&&s.a.createElement(Y,null))})),q=Object(d.b)((function(e){return{alerts:e.alert}}),{})((function(e){var t=e.alerts;return s.a.createElement(n.Fragment,null,s.a.createElement("div",{class:"alertcontainer ".concat(t&&0===t.length&&"hide")},s.a.createElement("div",{class:"alertsubcontainer"},t&&t.map((function(e){return s.a.createElement("span",{class:"alertmessage alert-".concat(e.level)}," ",e.message)})))))})),$=Object(d.b)((function(e){return{progress:e.wait.progress}}),{})((function(e){var t=e.progress,a=Object(n.useState)(0),r=Object(_.a)(a,2),i=r[0],c=r[1];return t&&i!=t&&c(t),s.a.createElement("div",{className:"statusbar"},s.a.createElement("div",{className:"statusCompleted",style:{width:"".concat(Math.floor(i),"%")}}),s.a.createElement("div",{className:"statusPending"}))})),ee=Object(d.b)((function(e){return{isWaiting:e.wait.isWaiting,fileName:e.wait.fileName,done:e.wait.done,total:e.wait.total}}),{})((function(e){var t=e.isWaiting,a=e.fileName,n=e.done,r=e.total;return s.a.createElement("div",{class:"waitcontiainer ".concat(t?"":"hide"," ")},s.a.createElement("div",{class:"waitsubcontianer"},s.a.createElement("div",{class:"lds-dual-ring"}),s.a.createElement("span",{class:"waitMessage",style:{color:"white"}},"PLEASE WAIT"),s.a.createElement("span",{class:"waitMessage",style:{color:"white"}},"uploading file ",a),s.a.createElement("span",{class:"waitMessage",style:{color:"white"}},n+1," of ",r),s.a.createElement($,null)))})),te=a(7),ae=a(31),ne=a(32),se=a(8),re=[],ie={isWaiting:!1,done:0,total:0,fileName:"",progress:0},ce={showFolderContainer:!1,folderData:null,childrenFiles:[],loading:!0,breadCrumb:"",folderStack:[]},le=function(e){return e&&0!==e.length?e.map((function(e){return e.folderData.FileName})).join("/"):""},oe=Object(te.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(se.a)(e),[n]);case"REMOVE_ALERT":return Object(se.a)(e).filter((function(e){return e.id!==n}));default:return Object(se.a)(e)}},files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_FILES_PAGINATED":return{pageNo:n.pageNo,pageSize:n.pageSize,files:n.files};default:return e}},wait:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_WAIT":return Object(k.a)(Object(k.a)({},e),{},{fileName:n.fileName,done:n.done,total:n.total,isWaiting:!0});case"UNSET_WAIT":return Object(k.a)(Object(k.a)({},e),{},{isWaiting:!1});case"UPDATE_PROGRESS":return Object(k.a)(Object(k.a)({},e),{},{progress:n});case"UNSET_PROGRESS":return Object(k.a)(Object(k.a)({},e),{},{progress:0});default:return e}},folderData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CLOSE_FOLDER":var s=!1;(o=Object(se.a)(e.folderStack)).pop();var r={},i=r.folderData,c=r.childrenFiles;if(o.length>0){s=!0;var l=o[o.length-1];i=l.folderData,c=l.childrenFiles}return{showFolderContainer:s,folderData:i,childrenFiles:c,loading:!s,folderStack:o,breadCrumb:le(o)};case"SELECT_FOLDER":return Object(k.a)(Object(k.a)({},e),{},{loading:!0,breadCrumb:le(e.folderStack)});case"FOLDER_LOADED":var o;if((o=Object(se.a)(e.folderStack)).push({folderData:n.folderData,childrenFiles:n.childrenFiles}),0!==e.folderStack.length){var d=e.folderStack[e.folderStack.length-1];if(d.folderData.Id===n.folderData.Id)return Object(k.a)(Object(k.a)({},e),{},{folderData:n.folderData,childrenFiles:n.childrenFiles})}return Object(k.a)(Object(k.a)({},e),{},{loading:!1,folderData:n.folderData,childrenFiles:n.childrenFiles,showFolderContainer:!0,folderStack:o,breadCrumb:le(o)});case"FOLDER_REFRESHED":i=n.folderData,c=n.childrenFiles;return Object(k.a)(Object(k.a)({},e),{},{folderData:i,childrenFiles:c});default:return e}}}),de=[ne.a],ue=Object(te.createStore)(oe,{},Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,de)));var fe=function(){return s.a.createElement(d.a,{store:ue},s.a.createElement(n.Fragment,null,s.a.createElement(q,null),s.a.createElement(J,null),s.a.createElement(ee,null)))};i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(fe,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.9e4ff24a.chunk.js.map